(()=>{"use strict";const t=document.getElementById("locationContainer"),a=document.getElementById("alert");function n(t){switch(t){case"missingCity":a.classList.add("bounceOut"),setTimeout((()=>{a.classList.remove("bounceOut"),a.textContent="Sorry, this location does not yet have a station! try with a major city close to it, be sure to insert the right name!"}),400);break;case"missingValue":a.classList.add("bounceOut"),setTimeout((()=>{a.classList.remove("bounceOut"),a.textContent="Be sure to insert a city!"}),400)}}function s(a){"error"!=a.status?(t.innerHTML=`\n    <li class="informationPollution">\n       <img class="infoIMG"src="img/pollution.png" alt="fabrique image">\n        <span class="infoTxt">  Current station:<strong> ${a.data.city.name}</strong><br>AQI levels and next days forecasted data:</span>\n    </li>\n    <li class = "informationPollution">\n    <p><span class="infoTxt"> AQI air levels : <span id="aqiLevels">${a.data.aqi}</span></span><p>\n    </li>\n    <li class="informationPollution">\n    <p><span class="pollutionLogo"><i class="fa fa-smog"></i></span><span class="infoTxt"> : ${a.data.forecast.daily.pm25[0].day}(Yesterday) </strong>, PM 2.5: <strong>${a.data.forecast.daily.pm25[0].avg}, </strong> </strong> PM 10: <strong>${a.data.forecast.daily.pm10[0].avg}, </strong>O3: <strong>${a.data.forecast.daily.o3[0].avg} </strong></span></p> \n    </li>\n    <li class="informationPollution">\n    <p><span class="pollutionLogo"><i class="fa fa-smog"></i></span><span class="infoTxt"> : ${a.data.forecast.daily.pm25[1].day}(Today) </strong>, PM 2.5: <strong>${a.data.forecast.daily.pm25[1].avg}, PM 10: <strong>${a.data.forecast.daily.pm10[1].avg}, </strong>O3: <strong>${a.data.forecast.daily.o3[1].avg} </strong></span></strong></span></p> \n    </li>\n    <li class="informationPollution">\n    <p><span class="pollutionLogo"><i class="fa fa-smog"></i></span><span class="infoTxt"> : ${a.data.forecast.daily.pm25[2].day}(Tomorrow) </strong>, PM 2.5: <strong>${a.data.forecast.daily.pm25[2].avg}, PM 10: <strong>${a.data.forecast.daily.pm10[2].avg}, </strong>O3: <strong>${a.data.forecast.daily.o3[2].avg} </strong></span></strong></span></p> \n    </li>\n    <li class="informationPollution">\n    <p><span class="pollutionLogo"><i class="fa fa-smog"></i></span><span class="infoTxt"> : ${a.data.forecast.daily.pm25[3].day} </strong>, PM 2.5: <strong>${a.data.forecast.daily.pm25[3].avg}, PM 10: <strong>${a.data.forecast.daily.pm10[3].avg}, </strong>O3: <strong>${a.data.forecast.daily.o3[3].avg} </strong></span></strong></span></p> \n    </li>\n    <li class="informationPollution">\n    <p><span class="pollutionLogo"><i class="fa fa-smog"></i></span><span class="infoTxt"> : ${a.data.forecast.daily.pm25[4].day} </strong>, PM 2.5: <strong>${a.data.forecast.daily.pm25[4].avg}, PM 10: <strong>${a.data.forecast.daily.pm10[4].avg}, </strong>O3: <strong>${a.data.forecast.daily.o3[4].avg} </strong></span></strong></span></p> \n    </li>\n    `,function(){const a=document.getElementById("aqiLevels").textContent;if(a<50){const a=document.createElement("li");a.classList.add("informationPollution"),a.innerHTML='<p><span class="infoTxt">Air-health situation: This area is secure and safe!</span><p>',t.appendChild(a)}else if(a>50&&a<101){const a=document.createElement("li");a.classList.add("informationPollution"),a.innerHTML=' <p><span class="infoTxt">Air-health situation: This area is moderately polluted, sensitive individuals should consider limiting outdoor activities!</span><p>',t.appendChild(a)}else if(a>101&&a<150){const a=document.createElement("li");a.classList.add("informationPollution"),a.innerHTML=' <p><span class="infoTxt">Air-health situation: This area is risky and unhealty for sensitive individuals!</span><p>',a.classList.add("riskyArea"),t.appendChild(a)}else if(a>151&&a<200){const a=document.createElement("li");a.classList.add("informationPollution"),a.innerHTML='<p><span class="infoTxt">Air-health situation: This area is unhealty and risky for sensitive individuals, everyone else should limit outdoor activites!</span><p>',t.appendChild(a)}else if(a>201&&a<300){const a=document.createElement("li");a.classList.add("informationPollution"),a.innerHTML='<p><span class="infoTxt">Air-health situation: This are is very unhealty and risky for sensitive individuals, everyone else should try to avoid outdoor activites!</span><p>',t.appendChild(a)}else if(a>301&&a<500){const a=document.createElement("li");a.classList.add("informationPollution"),a.innerHTML='<p><span class="infoTxt">Air-health situation: This area is Hazardeous everyone should avoid outdoor physical activity!</span><p>',t.appendChild(a)}}()):n("missingCity")}const o=document.getElementById("form"),e=document.getElementById("searchBtn"),i=document.getElementById("search_input_txt"),l=(document.getElementById("locationContainer"),document.getElementById("alert")),d="dada5d8fedde173f99a8397898d13e497795ed3a";o.addEventListener("submit",(function(t){t.preventDefault()})),e.addEventListener("click",(function(){if("Powered by AICQN ðŸ˜·"!=l.textContent&&""!=i.value&&(l.classList.add("bounceOut"),setTimeout((()=>{l.classList.remove("bounceOut"),l.textContent="Powered by AICQN ðŸ˜·"}),500)),""!=i.value){console.log("sended");const t=new XMLHttpRequest,a=`https://api.waqi.info/feed/${i.value}/?token=${d}`;t.open("GET",a),t.send(),t.onloadend=a=>{s(JSON.parse(t.responseText))}}else n("missingValue");i.value=""})),document.addEventListener("DOMContentLoaded",(t=>{console.log("loaded"),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){const a=new XMLHttpRequest,n=`https://api.waqi.info/feed/geo:${t.coords.latitude};${t.coords.longitude}/?token=${d}`;a.open("GET",n),a.send(),a.onloadend=t=>{s(JSON.parse(a.responseText))}})):console.log("Geolocation is not active!"),i.value=""}))})();