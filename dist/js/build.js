(()=>{const a=document.getElementById("form"),t=document.getElementById("searchBtn"),n=document.getElementById("search_input_txt"),s=document.getElementById("locationContainer"),e=document.getElementById("alert"),i="dada5d8fedde173f99a8397898d13e497795ed3a";function o(a){switch(a){case"missingCity":e.classList.add("bounceOut"),setTimeout((()=>{e.classList.remove("bounceOut"),e.textContent="Sorry, this location does not yet have a station! try with a major city close to it, be sure to insert the right name!"}),400);break;case"missingValue":e.classList.add("bounceOut"),setTimeout((()=>{e.classList.remove("bounceOut"),e.textContent="Be sure to insert a city!"}),400)}}function l(a){"error"!=a.status?(s.innerHTML=`\n    <li class="informationPollution">\n       <img class="infoIMG"src="img/pollution.png" alt="fabrique image">\n        <span class="infoTxt">  Current station:<strong> ${a.data.city.name}</strong><br>AQI levels and next days forecasted data:</span>\n    </li>\n    <li class = "informationPollution">\n    <p><span class="infoTxt"> AQI air levels : <span id="aqiLevels">${a.data.aqi}</span></span><p>\n    </li>\n    <li class="informationPollution">\n    <p><span class="pollutionLogo"><i class="fa fa-smog"></i></span><span class="infoTxt"> : ${a.data.forecast.daily.pm25[0].day}(Yesterday) </strong>, PM 2.5: <strong>${a.data.forecast.daily.pm25[0].avg}, </strong> </strong> PM 10: <strong>${a.data.forecast.daily.pm10[0].avg}, </strong>O3: <strong>${a.data.forecast.daily.o3[0].avg} </strong></span></p> \n    </li>\n    <li class="informationPollution">\n    <p><span class="pollutionLogo"><i class="fa fa-smog"></i></span><span class="infoTxt"> : ${a.data.forecast.daily.pm25[1].day}(Today) </strong>, PM 2.5: <strong>${a.data.forecast.daily.pm25[1].avg}, PM 10: <strong>${a.data.forecast.daily.pm10[1].avg}, </strong>O3: <strong>${a.data.forecast.daily.o3[1].avg} </strong></span></strong></span></p> \n    </li>\n    <li class="informationPollution">\n    <p><span class="pollutionLogo"><i class="fa fa-smog"></i></span><span class="infoTxt"> : ${a.data.forecast.daily.pm25[2].day}(Tomorrow) </strong>, PM 2.5: <strong>${a.data.forecast.daily.pm25[2].avg}, PM 10: <strong>${a.data.forecast.daily.pm10[2].avg}, </strong>O3: <strong>${a.data.forecast.daily.o3[2].avg} </strong></span></strong></span></p> \n    </li>\n    <li class="informationPollution">\n    <p><span class="pollutionLogo"><i class="fa fa-smog"></i></span><span class="infoTxt"> : ${a.data.forecast.daily.pm25[3].day} </strong>, PM 2.5: <strong>${a.data.forecast.daily.pm25[3].avg}, PM 10: <strong>${a.data.forecast.daily.pm10[3].avg}, </strong>O3: <strong>${a.data.forecast.daily.o3[3].avg} </strong></span></strong></span></p> \n    </li>\n    <li class="informationPollution">\n    <p><span class="pollutionLogo"><i class="fa fa-smog"></i></span><span class="infoTxt"> : ${a.data.forecast.daily.pm25[4].day} </strong>, PM 2.5: <strong>${a.data.forecast.daily.pm25[4].avg}, PM 10: <strong>${a.data.forecast.daily.pm10[4].avg}, </strong>O3: <strong>${a.data.forecast.daily.o3[4].avg} </strong></span></strong></span></p> \n    </li>\n    `,function(){const a=document.getElementById("aqiLevels").textContent;a<50?(healthLi=document.createElement("li"),healthLi.classList.add("informationPollution"),healthLi.innerHTML='<p><span class="infoTxt">Air-health situation: This area is secure and safe!</span><p>',s.appendChild(healthLi)):a>50&&a<101?(healthLi=document.createElement("li"),healthLi.classList.add("informationPollution"),healthLi.innerHTML=' <p><span class="infoTxt">Air-health situation: This area is moderately polluted, sensitive individuals should consider limiting outdoor activities!</span><p>',s.appendChild(healthLi)):a>101&&a<150?(healthLi=document.createElement("li"),healthLi.classList.add("informationPollution"),healthLi.innerHTML=' <p><span class="infoTxt">Air-health situation: This area is risky and unhealty for sensitive individuals!</span><p>',healthLi.classList.add("riskyArea"),s.appendChild(healthLi)):a>151&&a<200?(healthLi=document.createElement("li"),healthLi.classList.add("informationPollution"),healthLi.innerHTML='<p><span class="infoTxt">Air-health situation: This are is very unhealty and risky for sensitive individuals, everyone else should limit outdoor activites!</span><p>',s.appendChild(healthLi)):a>201&&a<300?(healthLi=document.createElement("li"),healthLi.classList.add("informationPollution"),healthLi.innerHTML='<p><span class="infoTxt">Air-health situation: This are is very unhealty and risky for sensitive individuals, everyone else should try to avoid outdoor activites!</span><p>',s.appendChild(healthLi)):a>301&&a<500&&(healthLi=document.createElement("li"),healthLi.classList.add("informationPollution"),healthLi.innerHTML='<p><span class="infoTxt">Air-health situation: This area is Hazardeous everyone should avoid outdoor physical activity!</span><p>',s.appendChild(healthLi))}()):o("missingCity")}a.addEventListener("submit",(function(a){a.preventDefault()})),t.addEventListener("click",(function(){if("Powered by AICQN ðŸ˜·"!=e.textContent&&""!=n.value&&(e.classList.add("bounceOut"),setTimeout((()=>{e.classList.remove("bounceOut"),e.textContent="Powered by AICQN ðŸ˜·"}),500)),""!=n.value){console.log("sended");const a=new XMLHttpRequest,t=`https://api.waqi.info/feed/${n.value}/?token=${i}`;a.open("GET",t),a.send(),a.onloadend=t=>{l(JSON.parse(a.responseText))}}else o("missingValue");n.value=""})),document.addEventListener("DOMContentLoaded",(a=>{console.log("loaded"),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(a){const t=new XMLHttpRequest,n=`https://api.waqi.info/feed/geo:${a.coords.latitude};${a.coords.longitude}/?token=${i}`;t.open("GET",n),t.send(),t.onloadend=a=>{l(JSON.parse(t.responseText))}})):console.log("Geolocation is not active!"),n.value=""}))})();